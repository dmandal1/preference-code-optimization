private buildPreferenceResponse(
  source: any,
  merchTeamPrefs?: MerchTeamPreference[]
): PreferenceResponse {
  return {
    userId: source.userId,
    inAppNotification: source.inAppNotification,
    emailNotification: source.emailNotification,
    emailFrequency: String(source.emailFrequency), // convert if needed
    merchTeamPreference: (merchTeamPrefs || source.merchTeamPreference || []).map(
      (pref: MerchTeamPreference) => ({
        teamId: pref.teamId,
        enableNotification: pref.enableNotification,
      })
    ),
  };
}
